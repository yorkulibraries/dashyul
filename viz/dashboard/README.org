#+TITLE: Dashboard
#+AUTHOR: William Denton

* About

* Data sources

+ EZProxy
+ LibStats
+ Symphony
+ +YorkSpace+ (on hold, stats not working)
+ +OJS+ (on hold, stats not working)
+ +YUDL+ (on hold, stats not working)

* Make targets

+ ~make~ :: summarizes LibStats data into monthly counts
+ ~make get_data~ :: use locally to pull down production Dashboard data
+ ~make libstats_today~ :: generate CSV of today's LibStats activity
+ ~make push_app~ :: use locally to push the Shiny app up to production

* Scripts

** ~extract-libstats-daily-summary.R~

** ~get-libstats-today.rb~

** ~process-ezproxy-daily.R~

** ~process-symphony-monthly.R~

* Crontab

#+BEGIN_EXAMPLE

#+END_EXAMPLE

* Symphony row

Deleted until the Alma data can be brought in.

Row
-------------------------------------

### Symphony: most borrowed since Sep 1

```{r}
DT::renderDataTable(symphony_most_borrowed_titles %>% filter(borrows >= 5) %>%
                    arrange(desc(borrows)),
                    escape = FALSE,
                    rownames = FALSE
                    )
```

### Symphony: items borrowed per day (not including accessories)

```{r}
ggplot(symphony_borrows_per_day, aes(x = date, y = borrows)) +
    ## geom_step() +
    geom_col(width = 0.6) +
    labs(title = "Items borrowed per day", x = "", y = "")
```
